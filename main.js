(()=>{"use strict";let e=0;const t=function(){const t=[];return{books:t,addBook:(n,o,d,i)=>{const a=function(t,n,o,d){const i=e;e+=1;const a={title:t,author:n,pages:o,isRead:d,index:i,toggleRead:()=>(a.isRead=!a.isRead,a.isRead)};return a}(n,o,d,i);return t.push(a),a}}},n=document.getElementById("add-button"),o=document.getElementById("add-form"),d=document.getElementById("library"),i=document.getElementById("hide-button"),a=document.getElementById("form-button"),{children:c}=o,l=c[1],s=c[4],r=c[7],u=c[10];function g(e,t,n,o){const d=document.createElement("p");return d.classList.add(t),d.innerText=`${n}: ${o}`,e.appendChild(d),d}n.addEventListener("click",(()=>{o.toggleAttribute("hidden"),n.toggleAttribute("hidden"),i.toggleAttribute("hidden")})),i.addEventListener("click",(()=>{o.toggleAttribute("hidden"),n.toggleAttribute("hidden"),i.toggleAttribute("hidden")})),l.addEventListener("input",(()=>{l.checkValidity()})),s.addEventListener("input",(()=>{s.checkValidity()})),r.addEventListener("input",(()=>{r.checkValidity()}));const h=function(e,t,n,o){e.books.forEach((e=>{!function(e,t,n){const o=document.createElement("div");o.setAttribute("data-index",e.index),o.classList.add("book"),g(o,"book-title","Title",e.title),g(o,"book-author","Author",e.author),g(o,"book-pages","Pages",e.pages);const i=g(o,"book-status","Status",e.isRead?"Have Read":"Not Read Yet"),a=document.createElement("button");a.addEventListener("click",(()=>{t(e),i.innerText="Status: "+(e.isRead?"Have Read":"Not Read Yet")})),a.innerText="Toggle Status",o.appendChild(a);const c=document.createElement("button");c.addEventListener("click",(()=>{n(e),o.remove()})),c.innerText="Delete Book",o.appendChild(c),d.appendChild(o)}(e,t,n)})),a.addEventListener("click",(e=>l.validity.valid?(s.checkValidity(),s.validity.valid?(r.checkValidity(),r.validity.valid?(console.log("book accepted"),o(l.value,s.value,r.value,u.checked),e.preventDefault(),!1):(console.log("pages rejected"),!1)):(console.log("author rejected"),!1)):(console.log("title rejected"),!1)))};function k(e){const t=[];e.books.forEach((e=>{e.isDeleted||t.push(e)})),localStorage.setItem("OdinLibrary",JSON.stringify(t))}const b=function(e){h(e,(t=>{t.toggleRead(),k(e)}),(t=>{t.isDeleted=!0,k(e)}),((t,n,o,d)=>{e.addBook(t,n,o,d),k(e)}))};b(function(){const e=t(),n=JSON.parse(localStorage.getItem("OdinLibrary"));return console.log(n),n&&0!==n.length?n.forEach((t=>{const{title:n,author:o,pages:d,isRead:i}=t;e.addBook(n,o,d,i)})):(e.addBook("The quick brown fox","a lazy dog","5",!1),k(e)),e}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ym9vay5qcyIsIndlYnBhY2s6Ly9ib29rLWxpYnJhcnkvLi9zcmMvbGlicmFyeS5qcyIsIndlYnBhY2s6Ly9ib29rLWxpYnJhcnkvLi9zcmMvdWlIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vYm9vay1saWJyYXJ5Ly4vc3JjL2xpYnJhcnlNYW5hZ2VyLmpzIiwid2VicGFjazovL2Jvb2stbGlicmFyeS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYm9va0luZGV4ID0gMDtcblxuZnVuY3Rpb24gQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgaXNSZWFkKSB7XG4gIGNvbnN0IGluZGV4ID0gYm9va0luZGV4O1xuICBib29rSW5kZXggKz0gMTtcblxuICBjb25zdCBvYmogPSB7XG4gICAgdGl0bGUsIGF1dGhvciwgcGFnZXMsIGlzUmVhZCwgaW5kZXgsXG4gIH07XG5cbiAgb2JqLnRvZ2dsZVJlYWQgPSAoKSA9PiB7XG4gICAgb2JqLmlzUmVhZCA9ICFvYmouaXNSZWFkO1xuICAgIHJldHVybiBvYmouaXNSZWFkO1xuICB9O1xuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZGVmYXVsdCBCb29rO1xuIiwiaW1wb3J0IEJvb2sgZnJvbSAnLi9ib29rJztcblxuZnVuY3Rpb24gTGlicmFyeSgpIHtcbiAgY29uc3QgYm9va3MgPSBbXTtcblxuICBjb25zdCBhZGRCb29rID0gKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCBpc1JlYWQpID0+IHtcbiAgICBjb25zdCBuZXdCb29rID0gQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgaXNSZWFkKTtcbiAgICBib29rcy5wdXNoKG5ld0Jvb2spO1xuXG4gICAgcmV0dXJuIG5ld0Jvb2s7XG4gIH07XG5cbiAgcmV0dXJuIHsgYm9va3MsIGFkZEJvb2sgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlicmFyeTtcbiIsImNvbnN0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnV0dG9uJyk7XG5jb25zdCBuZXdGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1mb3JtJyk7XG5jb25zdCBsaWJyYXJ5RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaWJyYXJ5Jyk7XG5jb25zdCBoaWRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGUtYnV0dG9uJyk7XG5jb25zdCBmb3JtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tYnV0dG9uJyk7XG5jb25zdCB7IGNoaWxkcmVuIH0gPSBuZXdGb3JtO1xuY29uc3QgdGl0bGVUZXh0ID0gY2hpbGRyZW5bMV07XG5jb25zdCBhdXRob3JUZXh0ID0gY2hpbGRyZW5bNF07XG5jb25zdCBwYWdlc1RleHQgPSBjaGlsZHJlbls3XTtcbmNvbnN0IGlzUmVhZEJveCA9IGNoaWxkcmVuWzEwXTtcbmNvbnN0IGZvcm1FcnJvciA9ICcnO1xuXG5mdW5jdGlvbiBhZGRQYXJhZ3JhcGgocGFyZW50LCBwQ2xhc3MsIGxhYmVsLCBjb250ZW50KSB7XG4gIGNvbnN0IG5ld0VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIG5ld0VsZW0uY2xhc3NMaXN0LmFkZChwQ2xhc3MpO1xuICBuZXdFbGVtLmlubmVyVGV4dCA9IGAke2xhYmVsfTogJHtjb250ZW50fWA7XG4gIHBhcmVudC5hcHBlbmRDaGlsZChuZXdFbGVtKTtcbiAgcmV0dXJuIG5ld0VsZW07XG59XG5cbmZ1bmN0aW9uIGFkZEJvb2tUb0xpYnJhcnkoZW50cnksIG9uVG9nZ2xlUmVhZCwgb25EZWxldGVCb29rKSB7XG4gIGNvbnN0IG5ld0VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3RWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBlbnRyeS5pbmRleCk7XG4gIG5ld0VsZW0uY2xhc3NMaXN0LmFkZCgnYm9vaycpO1xuICBhZGRQYXJhZ3JhcGgobmV3RWxlbSwgJ2Jvb2stdGl0bGUnLCAnVGl0bGUnLCBlbnRyeS50aXRsZSk7XG4gIGFkZFBhcmFncmFwaChuZXdFbGVtLCAnYm9vay1hdXRob3InLCAnQXV0aG9yJywgZW50cnkuYXV0aG9yKTtcbiAgYWRkUGFyYWdyYXBoKG5ld0VsZW0sICdib29rLXBhZ2VzJywgJ1BhZ2VzJywgZW50cnkucGFnZXMpO1xuICBjb25zdCB0b2dnbGVFbGVtID0gYWRkUGFyYWdyYXBoKG5ld0VsZW0sICdib29rLXN0YXR1cycsICdTdGF0dXMnLCBlbnRyeS5pc1JlYWQgPyAnSGF2ZSBSZWFkJyA6ICdOb3QgUmVhZCBZZXQnKTtcblxuICBjb25zdCB0b2dnbGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgY29uc3QgdG9nZ2xlRXZlbnQgPSAoKSA9PiB7XG4gICAgb25Ub2dnbGVSZWFkKGVudHJ5KTtcbiAgICB0b2dnbGVFbGVtLmlubmVyVGV4dCA9IGBTdGF0dXM6ICR7ZW50cnkuaXNSZWFkID8gJ0hhdmUgUmVhZCcgOiAnTm90IFJlYWQgWWV0J31gO1xuICB9O1xuXG4gIHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZUV2ZW50KTtcbiAgdG9nZ2xlQnV0dG9uLmlubmVyVGV4dCA9ICdUb2dnbGUgU3RhdHVzJztcbiAgbmV3RWxlbS5hcHBlbmRDaGlsZCh0b2dnbGVCdXR0b24pO1xuXG4gIGNvbnN0IGRlbGV0ZUV2ZW50ID0gKCkgPT4ge1xuICAgIG9uRGVsZXRlQm9vayhlbnRyeSk7XG4gICAgbmV3RWxlbS5yZW1vdmUoKTtcbiAgfTtcblxuICBjb25zdCBkZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlRXZlbnQpO1xuICBkZWxCdXR0b24uaW5uZXJUZXh0ID0gJ0RlbGV0ZSBCb29rJztcbiAgbmV3RWxlbS5hcHBlbmRDaGlsZChkZWxCdXR0b24pO1xuXG4gIGxpYnJhcnlFbGVtLmFwcGVuZENoaWxkKG5ld0VsZW0pO1xufVxuXG5uZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIG5ld0Zvcm0udG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgbmV3QnV0dG9uLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gIGhpZGVCdXR0b24udG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nKTtcbn0pO1xuXG5oaWRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBuZXdGb3JtLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gIG5ld0J1dHRvbi50b2dnbGVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICBoaWRlQnV0dG9uLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG59KTtcblxudGl0bGVUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICB0aXRsZVRleHQuY2hlY2tWYWxpZGl0eSgpO1xufSk7XG5cbmF1dGhvclRleHQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gIGF1dGhvclRleHQuY2hlY2tWYWxpZGl0eSgpO1xufSk7XG5cbnBhZ2VzVGV4dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgcGFnZXNUZXh0LmNoZWNrVmFsaWRpdHkoKTtcbn0pO1xuXG5mdW5jdGlvbiB1aUNyZWF0ZUxpYnJhcnkobGlicmFyeSwgb25Ub2dnbGVSZWFkLCBvbkRlbGV0ZUJvb2ssIG9uQWRkTmV3Qm9vaykge1xuICBsaWJyYXJ5LmJvb2tzLmZvckVhY2goKGJvb2spID0+IHtcbiAgICBhZGRCb29rVG9MaWJyYXJ5KGJvb2ssIG9uVG9nZ2xlUmVhZCwgb25EZWxldGVCb29rKTtcbiAgfSk7XG5cbiAgLy8gYWRkIGxpc3RlbmVyIHRvIGZvcm1cbiAgZm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIC8vIGFzIGEgY2xpY2sgZXZlbnQsIG5lZWRzIHRvIGNoZWNrIHZhbGlkaXR5IGhlcmVcbiAgICBpZiAoIXRpdGxlVGV4dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgY29uc29sZS5sb2coJ3RpdGxlIHJlamVjdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYXV0aG9yVGV4dC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgaWYgKCFhdXRob3JUZXh0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICBjb25zb2xlLmxvZygnYXV0aG9yIHJlamVjdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcGFnZXNUZXh0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBpZiAoIXBhZ2VzVGV4dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgY29uc29sZS5sb2coJ3BhZ2VzIHJlamVjdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdib29rIGFjY2VwdGVkJyk7XG5cbiAgICBvbkFkZE5ld0Jvb2soXG4gICAgICB0aXRsZVRleHQudmFsdWUsXG4gICAgICBhdXRob3JUZXh0LnZhbHVlLFxuICAgICAgcGFnZXNUZXh0LnZhbHVlLFxuICAgICAgaXNSZWFkQm94LmNoZWNrZWQsXG4gICAgKTtcblxuICAgIC8vIHByZXZlbnQgcGFnZSByZWxvYWRcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgdWlDcmVhdGVMaWJyYXJ5IH07XG4iLCJpbXBvcnQgTGlicmFyeSBmcm9tICcuL2xpYnJhcnknO1xuaW1wb3J0IHVpSGVscGVyIGZyb20gJy4vdWlIZWxwZXInO1xuXG5mdW5jdGlvbiBzYXZlTGlicmFyeShsaWJyYXJ5KSB7XG4gIGNvbnN0IGJvb2tMaXN0ID0gW107XG4gIGxpYnJhcnkuYm9va3MuZm9yRWFjaCgoYm9vaykgPT4ge1xuICAgIGlmICghYm9vay5pc0RlbGV0ZWQpIHsgYm9va0xpc3QucHVzaChib29rKTsgfVxuICB9KTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ09kaW5MaWJyYXJ5JywgSlNPTi5zdHJpbmdpZnkoYm9va0xpc3QpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlicmFyeShsaWJyYXJ5KSB7XG4gIC8vIGNyZWF0ZSB1aSBhbmQgYXR0YWNoIGxpc3RlbmVyc1xuXG4gIGNvbnN0IG9uVG9nZ2xlUmVhZCA9IChib29rKSA9PiB7XG4gICAgYm9vay50b2dnbGVSZWFkKCk7XG4gICAgc2F2ZUxpYnJhcnkobGlicmFyeSk7XG4gIH07XG5cbiAgY29uc3Qgb25EZWxldGVCb29rID0gKGJvb2spID0+IHtcbiAgICBib29rLmlzRGVsZXRlZCA9IHRydWU7XG4gICAgc2F2ZUxpYnJhcnkobGlicmFyeSk7XG4gIH07XG5cbiAgY29uc3Qgb25BZGROZXdCb29rID0gKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCBpc1JlYWQpID0+IHtcbiAgICBsaWJyYXJ5LmFkZEJvb2sodGl0bGUsIGF1dGhvciwgcGFnZXMsIGlzUmVhZCk7XG4gICAgc2F2ZUxpYnJhcnkobGlicmFyeSk7XG4gIH07XG5cbiAgdWlIZWxwZXIudWlDcmVhdGVMaWJyYXJ5KGxpYnJhcnksIG9uVG9nZ2xlUmVhZCwgb25EZWxldGVCb29rLCBvbkFkZE5ld0Jvb2spO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYWxMaWJyYXJ5KCkge1xuICBjb25zdCBteUxpYnJhcnkgPSBMaWJyYXJ5KCk7XG4gIGNvbnN0IGxvY2FsTGlicmFyeSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ09kaW5MaWJyYXJ5JykpO1xuICBjb25zb2xlLmxvZyhsb2NhbExpYnJhcnkpO1xuXG4gIGlmICghbG9jYWxMaWJyYXJ5IHx8IGxvY2FsTGlicmFyeS5sZW5ndGggPT09IDApIHtcbiAgICBteUxpYnJhcnkuYWRkQm9vaygnVGhlIHF1aWNrIGJyb3duIGZveCcsICdhIGxhenkgZG9nJywgJzUnLCBmYWxzZSk7XG4gICAgc2F2ZUxpYnJhcnkobXlMaWJyYXJ5KTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbExpYnJhcnkuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGl0bGUsIGF1dGhvciwgcGFnZXMsIGlzUmVhZCxcbiAgICAgIH0gPSBlbnRyeTtcbiAgICAgIG15TGlicmFyeS5hZGRCb29rKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCBpc1JlYWQpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG15TGlicmFyeTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkTG9jYWxMaWJyYXJ5LCBjcmVhdGVMaWJyYXJ5IH07XG4iLCJpbXBvcnQgTGlicmFyeU1hbmFnZXIgZnJvbSAnLi9saWJyYXJ5TWFuYWdlcic7XG5cbmNvbnN0IGxvYWRlZExpYnJhcnkgPSBMaWJyYXJ5TWFuYWdlci5sb2FkTG9jYWxMaWJyYXJ5KCk7XG5MaWJyYXJ5TWFuYWdlci5jcmVhdGVMaWJyYXJ5KGxvYWRlZExpYnJhcnkpO1xuIl0sIm5hbWVzIjpbImJvb2tJbmRleCIsImJvb2tzIiwiYWRkQm9vayIsInRpdGxlIiwiYXV0aG9yIiwicGFnZXMiLCJpc1JlYWQiLCJuZXdCb29rIiwiaW5kZXgiLCJvYmoiLCJwdXNoIiwibmV3QnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm5ld0Zvcm0iLCJsaWJyYXJ5RWxlbSIsImhpZGVCdXR0b24iLCJmb3JtQnV0dG9uIiwiY2hpbGRyZW4iLCJ0aXRsZVRleHQiLCJhdXRob3JUZXh0IiwicGFnZXNUZXh0IiwiaXNSZWFkQm94IiwiYWRkUGFyYWdyYXBoIiwicGFyZW50IiwicENsYXNzIiwibGFiZWwiLCJjb250ZW50IiwibmV3RWxlbSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJjaGVja1ZhbGlkaXR5IiwibGlicmFyeSIsIm9uVG9nZ2xlUmVhZCIsIm9uRGVsZXRlQm9vayIsIm9uQWRkTmV3Qm9vayIsImZvckVhY2giLCJib29rIiwiZW50cnkiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGVFbGVtIiwidG9nZ2xlQnV0dG9uIiwiZGVsQnV0dG9uIiwicmVtb3ZlIiwiYWRkQm9va1RvTGlicmFyeSIsImV2ZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsImNvbnNvbGUiLCJsb2ciLCJ2YWx1ZSIsImNoZWNrZWQiLCJwcmV2ZW50RGVmYXVsdCIsInNhdmVMaWJyYXJ5IiwiYm9va0xpc3QiLCJpc0RlbGV0ZWQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInVpSGVscGVyIiwidG9nZ2xlUmVhZCIsIm15TGlicmFyeSIsImxvY2FsTGlicmFyeSIsInBhcnNlIiwiZ2V0SXRlbSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=